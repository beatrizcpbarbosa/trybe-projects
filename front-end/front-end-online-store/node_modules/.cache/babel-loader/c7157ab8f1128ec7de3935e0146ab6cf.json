{"ast":null,"code":"var _jsxFileName = \"/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-frontend-online-store/src/pages/ProductDetails.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport ButtonCart from '../components/ButtonCart';\nimport ProductEvaluationForm from '../components/comment/ProductEvaluationForm';\nexport default class ProductDetails extends Component {\n  constructor(props) {\n    var _cartItems$product$id;\n\n    super(props);\n\n    this.handleClick = () => {\n      const {\n        addToCart\n      } = this.props;\n      const {\n        title,\n        price,\n        id,\n        thumbnail\n      } = this.product;\n      this.setState(prevState => ({\n        amount: prevState.amount + 1\n      }), () => {\n        const {\n          amount\n        } = this.state;\n        addToCart(id, {\n          title,\n          price,\n          amount,\n          id,\n          thumbnail,\n          totalPrice: amount * price\n        });\n      });\n    };\n\n    const {\n      location: {\n        state: {\n          product\n        }\n      },\n      cartItems\n    } = this.props;\n    this.product = product;\n    this.state = {\n      amount: ((_cartItems$product$id = cartItems[product.id]) === null || _cartItems$product$id === void 0 ? void 0 : _cartItems$product$id.amount) || 0\n    };\n  }\n\n  render() {\n    const {\n      location: {\n        state: {\n          product,\n          product: {\n            title,\n            thumbnail_id: thumbnailId\n          }\n        }\n      },\n      totalCount,\n      freeShipping\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, \"Voltar\"), /*#__PURE__*/React.createElement(ButtonCart, {\n      totalCount: totalCount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      \"data-testid\": \"product-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, title), freeShipping(product), /*#__PURE__*/React.createElement(\"img\", {\n      src: `https://http2.mlstatic.com/D_NQ_NP_${thumbnailId}-O.webp`,\n      alt: \"Imagem do produto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-detail-add-to-cart\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, \"ADD\"), /*#__PURE__*/React.createElement(ProductEvaluationForm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nProductDetails.propTypes = {\n  location: PropTypes.object,\n  shipping: PropTypes.object\n}.isRequired;","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-frontend-online-store/src/pages/ProductDetails.js"],"names":["React","Component","PropTypes","Link","ButtonCart","ProductEvaluationForm","ProductDetails","constructor","props","handleClick","addToCart","title","price","id","thumbnail","product","setState","prevState","amount","state","totalPrice","location","cartItems","render","thumbnail_id","thumbnailId","totalCount","freeShipping","propTypes","object","shipping","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport ButtonCart from '../components/ButtonCart';\nimport ProductEvaluationForm from '../components/comment/ProductEvaluationForm';\n\nexport default class ProductDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      location: {\n        state: { product },\n      },\n      cartItems,\n    } = this.props;\n\n    this.product = product;\n\n    this.state = {\n      amount: cartItems[product.id]?.amount || 0,\n    };\n  }\n\n  handleClick = () => {\n    const { addToCart } = this.props;\n    const { title, price, id, thumbnail } = this.product;\n\n    this.setState(\n      (prevState) => ({\n        amount: prevState.amount + 1,\n      }),\n      () => {\n        const { amount } = this.state;\n        addToCart(id, {\n          title,\n          price,\n          amount,\n          id,\n          thumbnail,\n          totalPrice: amount * price,\n        });\n      },\n    );\n  };\n\n  render() {\n    const {\n      location: {\n        state: {\n          product,\n          product: { title, thumbnail_id: thumbnailId },\n        },\n      },\n      totalCount,\n      freeShipping,\n    } = this.props;\n\n    return (\n      <section>\n        <div>\n          <Link to=\"/\">Voltar</Link>\n          <ButtonCart totalCount={ totalCount } />\n        </div>\n        <div>\n          <h2 data-testid=\"product-detail-name\">{title}</h2>\n          {freeShipping(product)}\n          <img\n            src={ `https://http2.mlstatic.com/D_NQ_NP_${thumbnailId}-O.webp` }\n            alt=\"Imagem do produto\"\n          />\n        </div>\n        <button\n          type=\"button\"\n          data-testid=\"product-detail-add-to-cart\"\n          onClick={ this.handleClick }\n        >\n          ADD\n        </button>\n        <ProductEvaluationForm />\n      </section>\n    );\n  }\n}\n\nProductDetails.propTypes = {\n  location: PropTypes.object,\n  shipping: PropTypes.object,\n}.isRequired;\n"]},"metadata":{},"sourceType":"module"}