{"ast":null,"code":"var _jsxFileName = \"/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-frontend-online-store/src/pages/ShoppingCart.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport CartProduct from '../components/CartProduct';\nexport default class ShoppingCart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.increaseTotal = value => {\n      this.setState(({\n        total\n      }) => ({\n        total: total + value\n      }));\n      this.setLocalStorage();\n    };\n\n    this.decreaseTotal = value => {\n      this.setState(({\n        total\n      }) => ({\n        total: total - value\n      }));\n      this.setLocalStorage();\n    };\n\n    this.deleteItem = (event, value) => {\n      const {\n        name\n      } = event.target;\n      const {\n        cartItems\n      } = this.props;\n      this.decreaseTotal(value);\n      delete cartItems[name];\n      this.setLocalStorage();\n    };\n\n    this.validateCart = () => {\n      const {\n        total\n      } = this.state;\n      const {\n        cartItems\n      } = this.props;\n\n      if (Object.keys(cartItems).length) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 9\n          }\n        }, Object.values(cartItems).map((product, i) => /*#__PURE__*/React.createElement(CartProduct, {\n          key: i,\n          product: product,\n          deleteItem: this.deleteItem,\n          cartItems: cartItems,\n          increaseTotal: this.increaseTotal,\n          decreaseTotal: this.decreaseTotal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        }, `R$ ${parseFloat(total).toFixed(2)}`));\n      }\n\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        \"data-testid\": \"shopping-cart-empty-message\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }, \"Seu carrinho est\\xE1 vazio\");\n    };\n\n    this.state = {\n      total: 0\n    };\n    this.setLocalStorage = props.setLocalStorage;\n  }\n\n  render() {\n    const {\n      cartItems\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, this.validateCart(), /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/checkout',\n        cartItems\n      },\n      \"data-testid\": \"checkout-products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Finalizar compra\")));\n  }\n\n}\nShoppingCart.propTypes = {\n  cartItems: PropTypes.shape({}).isRequired,\n  setLocalStorage: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-frontend-online-store/src/pages/ShoppingCart.js"],"names":["React","Component","PropTypes","Link","Button","CartProduct","ShoppingCart","constructor","props","increaseTotal","value","setState","total","setLocalStorage","decreaseTotal","deleteItem","event","name","target","cartItems","validateCart","state","Object","keys","length","values","map","product","i","parseFloat","toFixed","render","pathname","propTypes","shape","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport CartProduct from '../components/CartProduct';\n\nexport default class ShoppingCart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      total: 0,\n    };\n    this.setLocalStorage = props.setLocalStorage;\n  }\n\n  increaseTotal = (value) => {\n    this.setState(({ total }) => ({\n      total: total + value,\n    }));\n    this.setLocalStorage();\n  };\n\n  decreaseTotal = (value) => {\n    this.setState(({ total }) => ({\n      total: total - value,\n    }));\n    this.setLocalStorage();\n  };\n\n  deleteItem = (event, value) => {\n    const { name } = event.target;\n    const { cartItems } = this.props;\n\n    this.decreaseTotal(value);\n\n    delete cartItems[name];\n    this.setLocalStorage();\n  };\n\n  validateCart = () => {\n    const { total } = this.state;\n    const { cartItems } = this.props;\n\n    if (Object.keys(cartItems).length) {\n      return (\n        <div>\n          {Object.values(cartItems).map((product, i) => (\n            <CartProduct\n              key={ i }\n              product={ product }\n              deleteItem={ this.deleteItem }\n              cartItems={ cartItems }\n              increaseTotal={ this.increaseTotal }\n              decreaseTotal={ this.decreaseTotal }\n            />\n          ))}\n          <span>{`R$ ${parseFloat(total).toFixed(2)}`}</span>\n        </div>\n      );\n    }\n\n    return (\n      <h3 data-testid=\"shopping-cart-empty-message\">Seu carrinho est√° vazio</h3>\n    );\n  };\n\n  render() {\n    const { cartItems } = this.state;\n\n    return (\n      <section>\n        {this.validateCart()}\n        <Link\n          to={ { pathname: '/checkout', cartItems } }\n          data-testid=\"checkout-products\"\n        >\n          <Button variant=\"primary\">Finalizar compra</Button>\n        </Link>\n      </section>\n    );\n  }\n}\n\nShoppingCart.propTypes = {\n  cartItems: PropTypes.shape({}).isRequired,\n  setLocalStorage: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}