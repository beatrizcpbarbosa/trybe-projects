{"ast":null,"code":"var _jsxFileName = \"/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-frontend-online-store/src/components/Product.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nexport default class Product extends Component {\n  constructor(props) {\n    var _cartItems$_id;\n\n    super(props);\n\n    this.handleClick = () => {\n      const {\n        product,\n        addToCart\n      } = this.props;\n      const {\n        title,\n        price,\n        id,\n        thumbnail_id: thumbnailId,\n        available_quantity: availableQuantity\n      } = product;\n      this.setState(prevState => ({\n        amount: prevState.amount + 1\n      }), () => {\n        const {\n          amount\n        } = this.state;\n        addToCart(id, {\n          title,\n          thumbnailId,\n          price,\n          amount,\n          id,\n          totalPrice: amount * price,\n          availableQuantity\n        });\n      });\n    };\n\n    const {\n      product: {\n        id: _id\n      },\n      cartItems\n    } = this.props;\n    this.state = {\n      amount: ((_cartItems$_id = cartItems[_id]) === null || _cartItems$_id === void 0 ? void 0 : _cartItems$_id.amount) || 0\n    };\n  }\n\n  render() {\n    const {\n      product,\n      freeShipping\n    } = this.props;\n    const {\n      title,\n      price,\n      thumbnail_id: thumbnailId,\n      id\n    } = product;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-testid\": \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, title), freeShipping(product), /*#__PURE__*/React.createElement(\"img\", {\n      src: `https://http2.mlstatic.com/D_NQ_NP_${thumbnailId}-O.webp`,\n      alt: \"Imagem do produto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, `R$ ${parseFloat(price).toFixed(2)}`), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"add-cart-button\",\n      type: \"button\",\n      name: id,\n      onClick: this.handleClick,\n      \"data-testid\": \"product-add-to-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"bi bi-cart-plus button-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(Link, {\n      \"data-testid\": \"product-detail-link\",\n      to: {\n        pathname: title,\n        state: {\n          product\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, \"Ver detalhes\"));\n  }\n\n}\nProduct.propTypes = {\n  product: PropTypes.shape({\n    title: PropTypes.string,\n    price: PropTypes.number,\n    thumbnail_id: PropTypes.string,\n    thumbnailId: PropTypes.string,\n    id: PropTypes.string,\n    available_quantity: PropTypes.number,\n    shipping: PropTypes.shape({\n      free_shipping: PropTypes.bool\n    }).isRequired\n  }).isRequired,\n  addToCart: PropTypes.func.isRequired,\n  cartItems: PropTypes.shape({}).isRequired,\n  freeShipping: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/beatrizbarbosa/Projects/trybe-projects/sd-010-a-project-frontend-online-store/src/components/Product.js"],"names":["React","Component","PropTypes","Link","Product","constructor","props","handleClick","product","addToCart","title","price","id","thumbnail_id","thumbnailId","available_quantity","availableQuantity","setState","prevState","amount","state","totalPrice","cartItems","render","freeShipping","parseFloat","toFixed","pathname","propTypes","shape","string","number","shipping","free_shipping","bool","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default class Product extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      product: { id },\n      cartItems,\n    } = this.props;\n    this.state = {\n      amount: cartItems[id]?.amount || 0,\n    };\n  }\n\n  handleClick = () => {\n    const { product, addToCart } = this.props;\n    const {\n      title,\n      price,\n      id,\n      thumbnail_id: thumbnailId,\n      available_quantity: availableQuantity,\n    } = product;\n\n    this.setState((prevState) => ({\n      amount: prevState.amount + 1,\n    }), () => {\n      const { amount } = this.state;\n      addToCart(id, {\n        title,\n        thumbnailId,\n        price,\n        amount,\n        id,\n        totalPrice: amount * price,\n        availableQuantity,\n      });\n    });\n  };\n\n  render() {\n    const { product, freeShipping } = this.props;\n    const { title, price, thumbnail_id: thumbnailId, id } = product;\n\n    return (\n      <>\n        <div data-testid=\"product\">\n          <h2>{title}</h2>\n          { freeShipping(product) }\n          <img src={ `https://http2.mlstatic.com/D_NQ_NP_${thumbnailId}-O.webp` } alt=\"Imagem do produto\" />\n          <h3>{`R$ ${parseFloat(price).toFixed(2)}`}</h3>\n          <div className=\"cart-button\">\n            <button\n              className=\"add-cart-button\"\n              type=\"button\"\n              name={ id }\n              onClick={ this.handleClick }\n              data-testid=\"product-add-to-cart\"\n            >\n              <i className=\"bi bi-cart-plus button-icon\" />\n            </button>\n          </div>\n        </div>\n        <Link\n          data-testid=\"product-detail-link\"\n          to={ { pathname: title, state: { product } } }\n        >\n          Ver detalhes\n        </Link>\n      </>\n    );\n  }\n}\n\nProduct.propTypes = {\n  product: PropTypes.shape({\n    title: PropTypes.string,\n    price: PropTypes.number,\n    thumbnail_id: PropTypes.string,\n    thumbnailId: PropTypes.string,\n    id: PropTypes.string,\n    available_quantity: PropTypes.number,\n    shipping: PropTypes.shape({\n      free_shipping: PropTypes.bool,\n    }).isRequired,\n  }).isRequired,\n  addToCart: PropTypes.func.isRequired,\n  cartItems: PropTypes.shape({}).isRequired,\n  freeShipping: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}